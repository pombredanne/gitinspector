<div id="metrics_div">

  <div class="box">
    <div class="box_title" style="display:inline-block">
      Metrics
    </div>

    <div id="metrics_box">
      <div id="metrics_eloc"></div>
      <div id="metrics_cyclo"></div>
      <div id="metrics_comp"></div>
    </div>
  </div>

    <script>
      (function () {
          var metrics_eloc    = $metrics_eloc;
          var metrics_cyclo   = $metrics_cyclo;
          var metrics_comp    = $metrics_comp;

          if (metrics_eloc.length > 0) {
              var div = d3.select("div#metrics_eloc");
              div.append("h4").text("$metrics_eloc_head");
              generate_table(div, "metrics_eloc_table", metrics_eloc);
          }

          if (metrics_cyclo.length > 0) {
              var div = d3.select("div#metrics_cyclo");
              div.append("h4").text("$metrics_cyclo_head");
              generate_table(div, "metrics_cyclo_table", metrics_cyclo);
          }

          if (metrics_comp.length > 0) {
              var div = d3.select("div#metrics_comp");
              div.append("h4").text("$metrics_comp_head");
              generate_table(div, "metrics_comp_table", metrics_comp);
          }

	  if (metrics_eloc.length + metrics_cyclo.length + metrics_comp.length == 0) {
	      d3.selectAll("#metrics_div").style("display", "none");
	  } else {
	      register_box("Metrics", "metrics_div");
	  }
      })();
    </script>
</div>
